import sys
from time import time

from gpiozero import DigitalOutputDevice

buttons = {
    'light': (400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 5200, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 400, 808, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 784, 400, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 800, 400, 800, 400, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 800, 400, 800, 400, 400, 800, 400, 800, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 400, 25600, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 5200),
    'fan': (400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 5200, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 400, 808, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 784, 400, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 800, 400, 400, 800, 400, 800, 400, 800, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 400, 800, 400, 800, 400, 25600, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 5200),
    'slow': (400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 5200, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 400, 808, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 784, 400, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 800, 400, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 800, 400, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 400, 800, 400, 25600, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 5200),
    'fast': (400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 5200, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 400, 808, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 784, 400, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 800, 400, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 800, 400, 400, 800, 800, 400, 800, 400, 400, 800, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 800, 400, 400, 800, 800, 400, 400, 25600, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 400, 5200)
}

transmitter = DigitalOutputDevice(4)
for delay in buttons[sys.argv[1]]:
    future = time() + delay / 1000000
    transmitter.toggle()
    while time() < future:
        pass  # a busy loop might be more accurate than sleep
transmitter.toggle()
